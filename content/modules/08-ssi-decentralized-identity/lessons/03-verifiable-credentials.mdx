---
title: "Verifiable Credentials & Verifiable Presentations"
description: "Learn how to issue, hold, and verify cryptographically-signed credentials with selective disclosure and zero-knowledge proofs"
slug: "verifiable-credentials"
duration: 50
keyTakeaways:
  - "Verifiable Credential structure: context, type, issuer, issuance date, credential subject, cryptographic proof"
  - "Credential lifecycle: issuance by trusted authority, storage in wallet, presentation to verifiers, verification process"
  - "Verifiable Presentations (VPs): packaging multiple VCs for selective disclosure to verifiers"
  - "Zero-knowledge proofs: proving claims (e.g., age >21) without revealing underlying data"
  - "Implementing VCs with real code examples using JWT and JSON-LD Data Integrity proofs"
---

## Understanding Verifiable Credentials


## What Are Verifiable Credentials?

**Verifiable Credentials (VCs)** are the digital equivalent of physical credentials (diplomas, licenses, certificates), but with superpowers:

### Physical Credentials (Current)
```
University Diploma (paper)
├─ Can be forged (fake degrees are a $1B industry)
├─ Hard to verify (call university, wait days)
├─ Can't selectively disclose (show whole document)
└─ Lost forever if destroyed

Driver's License (plastic)
├─ Reveals everything (even when you just need to prove age)
├─ Can be stolen and used by others
├─ Hard to revoke (still valid after you report it stolen)
└─ Physical object required
```

### Verifiable Credentials (Future)
```
Digital Diploma (VC)
├─ ✅ Cryptographically signed (unforgeable)
├─ ✅ Instant verification (check signature)
├─ ✅ Selective disclosure (share only GPA, not full transcript)
└─ ✅ Cloud backup (never lost)

Digital License (VC)
├─ ✅ Prove age >21 without revealing birthdate
├─ ✅ Cryptographically bound to you (can't be stolen)
├─ ✅ Instant revocation (if lost, disable immediately)
└─ ✅ In your phone (always available)
```

## The Trust Triangle

SSI operates on a three-party model:

```
        Issuer
      (University)
         /  \\
        /    \\
    Issues   Trusts
      VC      Issuer
      /        \\
     /          \\
 Holder  ----→  Verifier
(You)   Presents  (Employer)
        VP
```

**Roles:**

1. **Issuer**: Creates and signs the credential
   - Example: University issues diploma VC
   - Signs with their cryptographic key
   - Publishes public key in their DID Document

2. **Holder**: Stores credential in wallet
   - You (the graduate)
   - Controls when/where to present it
   - Can create Verifiable Presentations

3. **Verifier**: Checks credential validity
   - Example: Employer verifying your degree
   - Verifies cryptographic signature
   - Trusts the issuer's public key

## Verifiable Credential Structure

Here's what a VC actually looks like (W3C VC Data Model 2.0):

```json
{
  "@context": [
    "https://www.w3.org/ns/credentials/v2",
    "https://www.w3.org/ns/credentials/examples/v2"
  ],
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": {
    "id": "did:web:university.edu",
    "name": "Example University"
  },
  "validFrom": "2024-01-15T00:00:00Z",
  "validUntil": "2034-01-15T00:00:00Z",
  "credentialSubject": {
    "id": "did:example:alice",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Computer Science",
      "degreeSchool": "School of Engineering"
    },
    "gpa": "3.8",
    "graduationDate": "2024-05-15"
  },
  "proof": {
    "type": "Ed25519Signature2020",
    "created": "2024-01-15T10:30:00Z",
    "verificationMethod": "did:web:university.edu#key-1",
    "proofPurpose": "assertionMethod",
    "proofValue": "z3FXQjecWRwCr...base58-encoded-signature"
  }
}
```

**Key Components:**

- **@context**: Defines vocabulary and data types
- **type**: What kind of credential (can have multiple types)
- **issuer**: DID of who issued it (university)
- **validFrom/validUntil**: Credential lifetime
- **credentialSubject**: The claims about the holder
  - **id**: Holder's DID (who the credential is about)
  - **Claims**: Degree type, GPA, graduation date, etc.
- **proof**: Cryptographic signature
  - **verificationMethod**: Points to issuer's public key in DID Document
  - **proofValue**: The actual digital signature

## How Verification Works

### Step-by-Step Verification Process

1. **Holder presents credential to verifier** (employer)

2. **Verifier extracts issuer DID** from credential
   ```
   "issuer": { "id": "did:web:university.edu" }
   ```

3. **Verifier resolves DID to DID Document**
   ```
   GET https://university.edu/.well-known/did.json
   ```

4. **Verifier finds issuer's public key** in DID Document
   ```json
   {
     "verificationMethod": [{
       "id": "did:web:university.edu#key-1",
       "type": "Ed25519VerificationKey2020",
       "publicKeyMultibase": "z6MkpT..."
     }]
   }
   ```

5. **Verifier checks signature** using public key
   ```javascript
   const isValid = await verifySignature(
     credentialData,
     proof.proofValue,
     publicKey
   )
   // Returns: true ✅ (signature valid)
   ```

6. **Verifier checks additional constraints**
   - Is credential expired? (check validUntil)
   - Is it for the right holder? (credentialSubject.id matches presenter's DID)
   - Is issuer trusted? (do we trust this university?)
   - Is credential revoked? (check revocation registry)

**Result:** If all checks pass, verifier trusts the claims.

## Verifiable Presentations

A **Verifiable Presentation (VP)** is a package that holders create to present credentials to verifiers.

### Why Presentations?

You rarely present just one credential. You might need to prove:
- "I'm over 21" (driver's license VC) AND
- "I'm a student" (student ID VC) AND
- "I live in this city" (utility bill VC)

**Solution:** Bundle multiple VCs into one VP.

### VP Structure

```json
{
  "@context": [
    "https://www.w3.org/ns/credentials/v2"
  ],
  "type": ["VerifiablePresentation"],
  "holder": "did:example:alice",
  "verifiableCredential": [
    { /* University Degree VC */ },
    { /* Professional Certification VC */ }
  ],
  "proof": {
    "type": "Ed25519Signature2020",
    "created": "2025-01-15T14:30:00Z",
    "verificationMethod": "did:example:alice#key-1",
    "proofPurpose": "authentication",
    "challenge": "random-nonce-from-verifier-abc123",
    "domain": "employer.com",
    "proofValue": "z58DAdFfa9..."
  }
}
```

**Key Differences from VC:**

- **holder**: The DID presenting (proving control)
- **verifiableCredential**: Array of VCs being presented
- **proof**: Holder's signature (not issuer's)
  - **challenge**: Random nonce from verifier (prevents replay attacks)
  - **domain**: Who requested it (prevents presentation reuse)

## Selective Disclosure

**Problem:** Driver's license has 10 fields. To prove age >21, you have to show all 10 fields.

**Solution:** Selective Disclosure lets you reveal only specific fields.

### BBS+ Signatures

**BBS+** is a cryptographic signature scheme that enables selective disclosure.

**How it works:**

1. **Issuer creates credential** with BBS+ signature
   ```
   Credential fields:
   - Name: Alice Anderson
   - Address: 123 Main St
   - Birthdate: 1995-03-15
   - License Number: D1234567
   - Photo: <binary>
   - Organ Donor: Yes
   ```

2. **Holder selectively discloses** only Name + Photo for hotel check-in
   ```
   Disclosed:
   - Name: Alice Anderson
   - Photo: <binary>

   Hidden (but proof exists):
   - Address: [REDACTED]
   - Birthdate: [REDACTED]
   - License Number: [REDACTED]
   - Organ Donor: [REDACTED]
   ```

3. **Verifier sees only disclosed fields** but can verify:
   - Signature is valid (all fields were originally signed)
   - No tampering occurred
   - Issuer is legitimate

**Magic:** Verifier can't see hidden fields, but cryptography proves they exist and were signed.

### Zero-Knowledge Proofs (ZKPs)

**Even more powerful:** Prove properties about data WITHOUT revealing the data.

**Example: Prove Age >21**

```
Traditional:
  Birthdate: 1995-03-15
  Math: 2025 - 1995 = 30
  Result: 30 > 21 ✅

ZKP (with BBS+):
  Birthdate: [HIDDEN]
  Cryptographic proof: "Birthdate satisfies (2025 - birthdate > 21)"
  Result: Proof verifies ✅

Verifier learns: "Person is over 21"
Verifier doesn't learn: Exact birthdate, age
```

**Real-World Use Cases:**
- Prove income >$50K (without revealing exact salary)
- Prove credit score >700 (without revealing 745)
- Prove eligible for loan (without revealing all financial data)

## Production Code Examples

### Issuing a Verifiable Credential

```typescript
import { Ed25519Signature2020 } from '@digitalbazaar/ed25519-signature-2020'
import { issue } from '@digitalbazaar/vc'
import { Ed25519VerificationKey2020 } from '@digitalbazaar/ed25519-verification-key-2020'

// University's key pair (from DID Document)
const issuerKeyPair = await Ed25519VerificationKey2020.generate({
  id: 'did:web:university.edu#key-1',
  controller: 'did:web:university.edu'
})

// Create credential
const credential = {
  '@context': [
    'https://www.w3.org/ns/credentials/v2',
    'https://www.w3.org/ns/credentials/examples/v2'
  ],
  type: ['VerifiableCredential', 'UniversityDegreeCredential'],
  issuer: {
    id: 'did:web:university.edu',
    name: 'Example University'
  },
  issuanceDate: new Date().toISOString(),
  credentialSubject: {
    id: 'did:example:alice',
    degree: {
      type: 'BachelorDegree',
      name: 'Bachelor of Science in Computer Science'
    },
    gpa: '3.8'
  }
}

// Sign credential
const suite = new Ed25519Signature2020({ key: issuerKeyPair })
const verifiableCredential = await issue({
  credential,
  suite,
  documentLoader
})

console.log('Issued VC:', verifiableCredential)
// Send to holder's wallet
```

### Verifying a Credential

```typescript
import { verify } from '@digitalbazaar/vc'
import { Ed25519Signature2020 } from '@digitalbazaar/ed25519-signature-2020'

async function verifyCredential(verifiableCredential: any) {
  const suite = new Ed25519Signature2020()

  const result = await verify({
    credential: verifiableCredential,
    suite,
    documentLoader, // Resolves DIDs to DID Documents
    purpose: new AssertionProofPurpose()
  })

  if (result.verified) {
    console.log('✅ Credential is valid!')
    console.log('Issuer:', verifiableCredential.issuer.id)
    console.log('Subject:', verifiableCredential.credentialSubject.id)
    console.log('Claims:', verifiableCredential.credentialSubject)
    return true
  } else {
    console.log('❌ Credential verification failed')
    console.log('Error:', result.error)
    return false
  }
}

// Example usage
const isValid = await verifyCredential(degreeCredential)
```

### Creating a Verifiable Presentation

```typescript
import { signPresentation } from '@digitalbazaar/vc'

// Holder creates presentation
async function createPresentation(
  credentials: any[],
  holderDID: string,
  holderKeyPair: any,
  challenge: string,
  domain: string
) {
  const presentation = {
    '@context': ['https://www.w3.org/ns/credentials/v2'],
    type: ['VerifiablePresentation'],
    holder: holderDID,
    verifiableCredential: credentials
  }

  const suite = new Ed25519Signature2020({ key: holderKeyPair })

  const verifiablePresentation = await signPresentation({
    presentation,
    suite,
    challenge,  // From verifier (prevents replay)
    domain,     // Verifier's domain
    documentLoader
  })

  return verifiablePresentation
}

// Example: Alice presents degree to employer
const vp = await createPresentation(
  [degreeCredential, certificationCredential],
  'did:example:alice',
  aliceKeyPair,
  'nonce-from-employer-xyz789',
  'employer.com'
)

console.log('Created VP:', vp)
// Send to verifier
```

## Credential Revocation

**Problem:** What if a credential needs to be invalidated?
- Student expelled (revoke diploma)
- License suspended (revoke driver's license)
- Employee fired (revoke access credential)

### Revocation Methods

**1. Status List 2021 (W3C Standard)**

Credentials include a reference to a status list:

```json
{
  "credentialStatus": {
    "id": "https://university.edu/status/1#94567",
    "type": "StatusList2021Entry",
    "statusPurpose": "revocation",
    "statusListIndex": "94567",
    "statusListCredential": "https://university.edu/credentials/status/1"
  }
}
```

Verifier checks if bit #94567 in the status list is set to 1 (revoked) or 0 (active).

**2. Revocation Registry (Hyperledger Indy)**

Blockchain-based revocation:
- Issuer publishes revocation registry on ledger
- Can mark credentials as revoked
- Privacy-preserving (doesn't reveal which credential was checked)

**3. Expiration (Simple)**

Just set short validity periods:
```json
{
  "validUntil": "2025-12-31T23:59:59Z"
}
```

After expiration, credential is no longer valid.

## Key Takeaways

1. **Verifiable Credentials** are cryptographically-signed digital credentials that can be instantly verified

2. **Trust Triangle**: Issuer creates, Holder stores, Verifier checks

3. **Selective Disclosure** (BBS+) lets holders share only necessary fields

4. **Zero-Knowledge Proofs** prove properties without revealing underlying data

5. **Verifiable Presentations** bundle multiple VCs for comprehensive proof

6. **Revocation** handles invalidation of credentials (Status List 2021, expiration)

**Next:** We'll explore digital wallets that hold these credentials and the SSI ecosystem.
          

